---
title: OSI Model
date: 2018-04-09 16:36:53
categories: Linux
description: OSI 七层模型
tags: 
- OSI
- 七层模型
---

## 定义
OSI（Open System Interconnection）参考模型是国际标准化组织（ISO）制定的一个用于计算机或通信系统间互联的标准体系，一般称为OSI参考模型或七层模型。

## 模型图
![1099668-20170212153338135-125492424](http://ovefvi4g3.bkt.clouddn.com/1099668-20170212153338135-125492424.jpg)

### 各层描述
### 物理层
> 设备之间的比特流传输、物理接口、电气特性等

物理层并不是物理媒体本身，它只是开放系统中利用物理媒体实现物理连接的功能描述和执行连接的规程。物理层提供用于建立、保持和断开物理连接的机械的、电气的、功能的和过程的条件。简而言之，物理层提供有关同步和全双工比特流在物理媒体上的传输手段，其典型的协议有`RS 232C`、`RS 449/422/423`、`V.24`和`X.21`、`X.21bis`等。

物理层是`OSI`的第一层，它虽然处于最底层，却是整个开放系统的基础。物理层为设备之间的数据通信提供传输媒体及互连设备，为数据传输提供可靠的环境。

- 为数据端设备提供传送数据的通路，数据通路可以是一个物理媒体，也可以是多个物理媒体连接而成。一次完整的数据传输，包括激活物理连接、传送数据和终止物理连接。所谓激活，就是不管有多少物理媒体参与，都要在通信的两个数据终端设备间连接起来，形成一条通路。

- 传输数据。物理层要形成适合数据传输需要的实体，为数据传送服务。一是要保证数据能在其上正确通过，二是要提供足够的带宽(带宽是指每秒钟内能通过的比特(`Bit`)数)，以减少信道上的拥塞。传输数据的方式能满足点到点，一点到多点，串行或并行，半双工或全双工，同步或异步传输的需要。

- 完成物理层的一些管理工作。

### 数据链路层
> 封装数据帧

数据链路可以粗略地理解为数据通道。物理层要为终端设备间的数据通信提供传输介质及其连接。介质是长期的，连接是有生存期的。在连接生存期内，收发两端可以进行不等的一次或多次数据通信。每次通信都要经过建立通信联络和拆除通信联络两个过程。这种建立起来的数据收发关系就叫做数据链路。而在物理媒体上传输的数据难免受到各种不可靠因素的影响而产生差错，为了弥补物理层上的不足，为上层提供无差错的数据传输，就要能对数据进行检错和纠错。数据链路的建立，拆除，对数据的检错，纠错是数据链路层的基本任务。

链路层是为网络层提供数据传送服务的，这种服务要依靠本层具备的功能来实现。链路层应具备如下功能：

- 链路连接的建立、拆除和分离；
- 帧定界和帧同步。链路层的数据传输单元是帧，协议不同，帧的长短和界面也有差别，但无论如何必须对帧进行定界；
- 顺序控制，指对帧的收发顺序的控制；
- 差错检测和恢复。还有链路标识，流量控制等等。差错检测多用方阵码校验和循环码校验来检测信道上数据的误码，而帧丢失等用序号检测。各种错误的恢复则常靠反馈重发技术来完成。

独立的链路产品中最常见的当属网卡，网桥也是链路产品。数据链路层将本质上不可靠的传输媒体变成可靠的传输通路提供给网络层。在`IEEE802.3`情况下，数据链路层分成了两个子层，一个是逻辑链路控制，另一个是媒体访问控制.

`OSI`其中：

- `AUI`——连接单元接口 
- `PMA`——物理媒体连接
- `MAU`——媒体连接单元 
- `PLS`——物理信令
- `MDI`——媒体相关接口

### 网络层
> 封装数据报文

网络层的产生也是网络发展的结果。在联机系统和线路交换的环境中，网络层的功能没有太大意义。当数据终端增多时。它们之间有中继设备相连，此时会出现一台终端要求不只是与惟一的一台而是能和多台终端通信的情况，这就产生了把任意两台数据终端设备的数据链接起来的问题，也就是路由或者叫寻径。另外，当一条物理信道建立之后，被一对用户使用，往往有许多空闲时间被浪费掉。人们自然会希望让多对用户共用一条链路，为解决这一问题就出现了逻辑信道技术和虚拟电路技术。

中继控制层，其主要功能是利用数据链路层所保证的邻接节点间的无差错数据传输功能，通过路由选择和中继功能，实现两个端系统之间的数据传输。为此，网络层还具有多路复用功能，采用统计时分复用原理，将一条数据链路复用为多条逻辑信道，从而实现一个数据终端设备利用一条物理电路同时和多个远程数据通信设备的通信。网络层规定了网路连接的建立和拆除规程以及数据传送规程等。

- 路由选择和中继；
- 激活，终止网络连接；
- 在一条数据链路上复用多条网络连接，多采取分时复用技术；
- 检测与恢复；
- 排序，流量控制；
- 服务选择；
- 网络管理。

### 传输层
> 确定传输协议、确定数据传输的接口

主要功能是端开放系统之间数据的收妥确认。同时，还用于弥补各种通信网路的质量差异，对经过下三层之后仍然存在的传输差错进行恢复，进一步提高可靠性。另外，还通过复用、分段和组合、连接和分离、分流和合流等技术措施，提高吞吐量和服务质量。

传输层是两台计算机经过网络进行数据通信时，第一个端到端的层次，具有缓冲作用。当网络层服务质量不能满足要求时，它将服务加以提高，以满足高层的要求；当网络层服务质量较好时，它只用很少的工作。传输层还可进行复用，即在一个网络连接上创建多个逻辑连接。传输层也称为运输层。传输层只存在于端开放系统中，是介于低3层通信子网系统和高3层之间的一层，但是很重要的一层。因为它是源端到目的端对数据传送进行控制从低到高的最后一层。

有一个既存事实，即世界上各种通信子网在性能上存在着很大差异。例如电话交换网，分组交换网，公用数据交换网，局域网等通信子网都可互连，但它们提供的吞吐量，传输速率，数据延迟通信费用各不相同。对于会话层来说，却要求有一性能恒定的界面。传输层就承担了这一功能。它采用分流/合流，复用/介复用技术来调节上述通信子网的差异，使会话层感受不到。

此外传输层还要具备差错恢复，流量控制等功能，以此对会话层屏蔽通信子网在这些方面的细节与差异。传输层面对的数据对象已不是网络地址和主机地址，而是会话层的界面端口。上述功能的最终目的是为会话提供可靠的，无误的数据传输。传输层的服务一般要经历传输连接建立、数据传送、传输连接释放3个阶段才算完成一个完整的服务过程。而在数据传送阶段又分为一般数据传送和加速数据传送两种。

### 会话层
> 对应用会话的管理、同步

按照在应用进程之间约定的原则，按照正确的顺序收、发数据，进行各种形态的对话。会话层规定了会话服务用户间会话连接的建立和拆除规程以及数据传送规程。

会话层提供的服务是应用建立和维持会话，并能使会话获得同步。会话层使用校验点可使通信会话在通信失效时从校验点继续恢复通信。这种能力对于传送大的文件极为重要。会话层，表示层，应用层构成开放系统的高3层，面向应用进程提供分布处理、对话管理、信息表示、检查和恢复与语义上下文有关的传送差错等。为给两个对等会话服务用户建立一个会话连接，应该做如下几项工作：

- 将会话地址映射为运输地址；
- 数据传输阶段；
- 连接释放。

### 表示层
> 数据的表现形式、特殊数据的加密、压缩（解释传输的数据）

把应用层提供的信息变换为能够共同理解的形式，提供字符代码、数据格式、控制信息格式、加密等的统一表示。表示层的作用之一是为异种机通信提供一种公共语言，以便能进行互操作。这种类型的服务之所以需要，是因为不同的计算机体系结构使用的数据表示法不同。例如，`IBM`主机使用`EBCDIC`编码，而大部分`PC`机使用的是`ASCII`码。在这种情况下，便需要表示层来完成这种转换。通过前面的介绍，我们可以看出，会话层以下5层完成了端到端的数据传送，并且是可靠的、无差错的传送。但是数据传送只是手段而不是目的，最终是要实现对数据的使用。由于各种系统对数据的定义并不完全相同，最易明白的例子是键盘——其上的某些键的含义在许多系统中都有差异。这自然给利用其它系统的数据造成了障碍。表示层和应用层就担负了消除这种障碍的任务。

### 应用层
> 提供用户接口

实现应用进程（如用户程序、终端操作员等）之间的信息交换。同时，还具有一系列业务处理所需要的服务功能。应用层一般包括公共应用服务要素（`CASE`）和特定应用服务要素（`SASE`）。其中`CASE`提供应用进程中最基本的服务，向应用进程提供信息传送所必需的、但又独立于应用进程通信的能力。SASE实质上是各种应用进程在应用层中的映射，每一个`SASE`都针对某一类具体应用，例如文件传送、访问和管理（`FTAM`）、虚拟终端（`VT`）、消息处理系统（`MHS`）、电子数据互换（`EDI`）和目录查询等。

应用层向应用程序提供服务，这些服务按其向应用程序提供的特性分成组，并称为服务元素。有些可为多种应用程序共同使用，有些则为较少的一类应用程序使用。应用层是开放系统的最高层，是直接为应用进程提供服务的。其作用是在实现多个系统应用进程相互通信的同时，完成一系列业务处理所需的服务。

## OSI七层模型 相关协议 缩写
### 应用层
HTTP        超文本传输协议
FTP         文件传输协议
SMTP        简单邮件传输协议
TELNETTCP/IP    终端仿真协议
POP3        邮局协议第三版
Finger      用户信息协议
NNTP        网络新闻传输协议
IMAP4       因特网信息访问协议第四版
LPR UNIX    远程打印协议
Rwho UNIX   远程 Who协议
Rexec UNIX  远程执行协议
Login UNIX  远程登陆协议
RSH UNIX    远程Shell协议
NTF HP      网络文件传输协议
RDA HP      远程数据库访问协议
VT          虚拟终端仿真协议
RFA HP      远程文件访问协议
RPC Remote Process Comm.
S-HTTP      安全超文本传输协议
GDP         网关发现协议
X-Window
CMOT        基于TCP/IP的CMIP协议
SOCKS       安全套接字协议
FANP        流属性通知协议
SLP         服务定位协议
MSN         微软网络服务
Radius      远程用户拨号认证服务协议
DNS         域名系统
NFS         网络文件系统协议
NIS SUN     网络信息系统协议
R-STAT SUN  远程状态协议
NSM SUN     网络状态监测协议
PMAP SUN    端口映射协议
Mount
LPR         UNIX远程打印协议

#### 常用UDP协议的应用层服务

BOOTP   引导协议
DHCP    动态主机配套协议
NTP     网络时间协议
TFTP    简单文件传输协议
SNMP    简单网络管理协议

### 表示层

DECnet NSP
LPP             轻量级表示协议
NBSSN NetBIOS   会话服务协议
XDP             外部数据表示协议
IPX

### 会话层

SSL     安全套接字层协议
TLS     传输层安全协议
DAP     目录访问协议
LDAP    轻量级目录访问协议
RPC     远程过程调用协议
VINES NETRPC
VFRP
NeTBIOS
IPX

### 传输层

XOT         基于tcp之上的X协议
Van Jacobson 压缩TCP协议
ISO-DE ISO  开发环境-------->NetBISO
TALI        传输适配层接口协议
DSI、NetBIOS、IP NeTBIOS、ISO-TP SSP、SMB、MSRPC
UDP         用户数据报协议
RUDP        可靠的用户数据报协议
Mobile IP   移动IP协议

### 网络层

IP/IPv6 互联网协议/互联网协议第六版
ICMPv6  互联网控制信息协议第六版
ICMP    互联网控制信息协议
IGMP    互联网组管理协议
SLIP    串行线路IP协议

#### 安全协议

AH  认证头协议
ESP 安装封装有效载荷协议

#### 路由协议

EGP     外部网关协议
OSPF    开放最短路径优先协议
IGRP    内部网关路由协议
NHRP    下一跳解析协议
IE-IRGP     增强内部网关路由选择协议
RIPng for IPv6 IPv6路由信息协议
GGP     网关到网关协议
VRRP    虚拟路由器冗余协议
PGM     实际通用组播协议
RSVP    资源预留协议
PIM-DM  密集模式独立组播协议
DVMRP   距离矢量组播路由协议
RIP2    路由信息协议第二版
PIM-SM  稀疏模式独立组播协议
MOSPF   组播开放最短路径优先协议

### 数据链路层

MPLS    多协议标签交换协议
XTP     压缩传输协议
DCAP    数据转换客户访问协议
SLE     串行连接封装协议
IPinIP  IP套IP封装协议

#### 隧道协议

PPTP    点对点隧道协议
L2F     第二层转发协议
L2TP    第二层隧道协议
ATMP    接入隧道管理协议
Cisco   协议
CDP     思科发现协议
CGMP    思科组管理协议

#### 地址解析协议

ARP     地址解析协议
RAR     逆向地址解析协议

### 物理层

IEEE        802.2
Ethernet    v.2
Internetwork

